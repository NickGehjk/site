<!DOCTYPE html>

<html>

	<head>
		<title>Cobrinha</title>
		
		<link rel="icon" href="images/ekans.png">
		
		<link rel = 'stylesheet' type = 'text/css'
			href = 'css/cob.css'/>
		
    </head>
	
	<body>
		<!-- Canvas delimita uma área para renderização dinamica-->
        <canvas id="screen" width="600" height="600">
		</canvas>
		
		<script type="text/javascript">
			
			window.onload = function(){
			var screen = document.getElementById("screen");
			var contxt = screen.getContext("2d");
			document.addEventListener("keydown", keyPush);
			
			setInterval(GameLoop, 150);
			
			//////////Variáveis//////////
			
			var speed = 1; //números de quadrados
			var xspeed = 0;
			var yspeed = 0;
			
			var posx = 10; //ponto inicial em x
			var posy = 15; //ponto inicial em y
			
			var squares = 20;
			var squaresize = 30;
			
			var foodx = 15; //ponto da comida em x
			var foody = 15; //ponto da comida em y
			
			var trail = []; //vetor de rastro da cobra
			var tail = 7; //tamanho da cauda
			
			var cor;
			var skin = prompt("Escolha sua skin: "+
				"Digite 1 - Cipó(Verde)"+" || "+
				"Digite 2 - Esguicho(Vermelha)"+" || "+
				"Digite 3 - Krait(Azul)"+" || "+
				"Digite 4 - Python(Amarela)"+" || "+
				"Digite 5 - Albina(Branca)");

				if(skin == 1){
					cor = "green"
				}
				else if(skin == 2){
					cor = "red"
				}
				else if(skin == 3){
					cor = "blue"
				}
				else if(skin == 4){
					cor = "yellow"
				}
				else if(skin == 5){
					cor = "white"
				}
				else{
					cor = "cyan"
				}
				
				
			function GameLoop(){
				posx += xspeed;
				posy += yspeed;
				
				if(posx < 0){
					posx = squares-1;
				}
				if(posx > squares-1){
					posx = 0;
				}
				
				if(posy < 0){
					posy = squares-1;
				}
				if(posy > squares-1){
					posy = 0;
				}
				
				contxt.fillStyle = "black";
				contxt.fillRect(0,0, screen.width, screen.height);
				
				contxt.fillStyle = "gray";
				contxt.fillRect(foodx*squaresize, foody*squaresize, squaresize, squaresize);
				
				contxt.fillStyle = cor;
				for(var i = 0;i < trail.length;i++){
					contxt.fillRect(trail[i].x*squaresize, trail[i].y*squaresize, squaresize-1, squaresize-1);
				
					if(trail[i].x == posx && trail[i].y == posy){
						xspeed = yspeed = 0;
						tail = 3;
					}
				}
				
				trail.push({x:posx, y:posy})
				
				while(trail.length > tail){
					trail.shift();
				}
				
				if(foodx == posx && foody == posy){
					tail++;
					foodx = Math.floor(Math.random()*squares);
					foody = Math.floor(Math.random()*squares);
				}
			}
			function keyPush(event){
				switch(event.keyCode){
				
				case 37: //esquerda
				xspeed = -speed;
				yspeed = 0;
				break;
				
				case 38: //cima
				xspeed = 0;
				yspeed = -speed;
				break;
				
				case 39: //direita
				xspeed = speed;
				yspeed = 0;
				break;
				
				case 40: //baixo
				xspeed = 0;
				yspeed = speed;
				break;
				
				case 13: //enter
				xspeed = yspeed = 0;
				tail = 3;
				break;
				
				//////cores secretas/////
				
				case 16: //shift
				cor = "#ff8c00";
				break;
				
				case 17: //ctrl
				cor = "#ff00ee";
				break;
				
				case 20: //caps lock
				cor = "#7913a8";
				break;
				
				case 32: //espaço
				cor = "gray";
				break;
				
				case 90: //z
				cor = src="images/bandeira.png";
				break;
				
				case 88: //x
				cor = "";
				break;
				
				default:
				break;
				}
			}
		}
		</script>
		
		<a href = 'blog3.html' target = '_self'>
			<img src = "images/kabuto.png"
			height = 100 width = 100 align = 'right'/>
		</a>
		
	</body>

</html>

<!--
http://dontpad.com/CY2Cobrinha
-->

<!--
var color; // cor da cobra
var gamespd;//velocidade do jogo em ms
			
function ChooseColor(){ //escolhe uma cor para a cobra
	var skin = prompt("Escolha sua skin: "+
		"Digite 1 - Cipó(Verde) "+
		"Digite 2 - Esguicho(Vermelha) "+
		"Digite 3 - Krait(Azul) "+
		"Digite 4 - Python(Amarela) "+
		"Digite 5 - Albina(Branca)");
				
	if(skin == 1){
		color = "green"
	}
	else if(skin == 2){
		color = "red"
	}
	else if(skin == 3){
		color = "blue"
	}
	else if(skin == 4){
		color = "yellow"
	}
	else if(skin == 5){
		color = "white"
	}
	else{
		color = "cyan"
	}
			
	switch(color){
		case "green":
		gamespd = 100;
		break;
					
		case "red":
		gamespd = 90;
		break;
					
		case "blue":
		gamespd = 80;
		break;
					
		case "yellow":
		gamespd = 70;
		break;
					
		case "white":
		gamespd = 60;
		break;
					
		case "cyan":
		gamespd = 50;
		break;
					
		default:
		break;
	}
}
			
ChooseColor();
setInterval(GameLoop, gamespd);
-->